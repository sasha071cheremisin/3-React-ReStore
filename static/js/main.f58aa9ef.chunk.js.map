{"version":3,"sources":["components/book-list-item/index.js","components/book-list-item/book-list-item.js","actions/index.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","utils/compose.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/shopping-cart-table/shopping-cart-table.js","components/shopping-cart-table/index.js","components/pages/home-page.js","components/pages/cart-page.js","components/shop-header/index.js","components/shop-header/shop-header.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.js"],"names":["BookListItem","_ref","book","onAddedToCart","title","author","price","coverImage","react_default","a","createElement","className","src","alt","onClick","fetchBooks","bookstoreService","dispatch","type","getBooks","then","data","payload","catch","err","bookAddedToCart","bookId","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapper","props","Object","assign","compose","_len","arguments","length","funcs","Array","_key","comp","reduceRight","wrapper","f","Spinner","ErrorIndicator","BookList","books","map","components_book_list_item","key","id","BookListContainer","this","_this$props","loading","error","components_spinner","components_error_indicator","book_list_BookList","Component","connect","_ref2","_ref2$bookList","bookList","_ref3","mapDispatchToProps","onIncrease","onDecrease","onDelete","ShoppingCartTable","_ref2$shoppingCart","shoppingCart","items","cartItems","total","orederTotal","item","idx","count","HomePage","components_book_list","components_shopping_cart_table","CartPage","ShopHeader","numItems","react_router_dom","to","App","components_shop_header","react_router","path","component","exact","ErrorBoundry","state","hasError","setState","children","BookstoreService","_this","Promise","resolve","setTimeout","updateBookList","action","undefined","updateOrder","quantity","find","itemIndex","findIndex","newCartItems","index","concat","toConsumableArray","slice","updateCartItems","_item$id","_item$title","_item$count","_item$total","updateCartItem","reduce","sum","updateOrderTotal","updateShoppingCart","_ref4","reducer","store","createStore","ReactDOM","render","es","error_boundry","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.f58aa9ef.chunk.js","sourcesContent":["import BookListItem from './book-list-item';\n\nexport default BookListItem;\n","import React from 'react';\nimport './book-list-item.scss';\n\nconst BookListItem = ({ book, onAddedToCart }) => {\n    const { title, author, price, coverImage } = book;\n    return (\n        <div className=\"book-list-item\">\n            <div className=\"book-list-item__cover\">\n                <img className=\"book-list-item__image\" src={coverImage} alt=\"book\" />\n            </div>\n            <div className=\"book-list-item__details\">\n                <div className=\"book-list-item__title\">{title}</div>\n                <div className=\"book-list-item__author\">{author}</div>\n                <div className=\"book-list-item__price\">${price}</div>\n                <button\n                    onClick={onAddedToCart}\n                    className=\"btn btn-info book-list-item__button\">\n                    Add to cart\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default BookListItem;\n","const booksLoaded = (newBooks) => {\n    return {\n        type: 'FETCH_BOOKS_REQUEST',\n        payload: newBooks\n    };\n};\n\nconst booksRequested = () => {\n    return {\n        type: 'FETCH_BOOKS_SUCCESS'\n    };\n};\n\nconst booksError = (error) => {\n    return {\n        type: 'FETCH_BOOKS_FAILURE',\n        payload: error\n    };\n};\n\nconst fetchBooks = (bookstoreService, dispatch) => () => {\n    dispatch(booksRequested());\n    bookstoreService\n        .getBooks()\n        .then((data) => dispatch(booksLoaded(data)))\n        .catch((err) => dispatch(booksError(err)));\n}\n\nexport const bookAddedToCart = (bookId) => {\n    return {\n        type: 'BOOK_ADDED_TO_CART',\n        payload: bookId\n    };\n};\n\nexport const bookRemovedFromCart = (bookId) => {\n    return {\n        type: 'BOOK_REMOVED_FROM_CART',\n        payload: bookId\n    };\n};\n\nexport const allBooksRemovedFromCart = (bookId) => {\n    return {\n        type: 'ALL_BOOKS_REMOVED_FROM_CART',\n        payload: bookId\n    };\n};\n\nexport {\n    fetchBooks\n};\n","import React from 'react';\n\nconst {\n    Provider: BookstoreServiceProvider,\n    Consumer: BookstoreServiceConsumer\n} = React.createContext();\n\nexport {\n    BookstoreServiceProvider,\n    BookstoreServiceConsumer\n};\n","import React from 'react';\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\n\nconst withBookstoreService = () => (Wrapper) => {\n    return (props) => {\n        return (\n            <BookstoreServiceConsumer>\n                {\n                    (bookstoreService) => {\n                        return (\n                            <Wrapper {...props} bookstoreService={bookstoreService}/>\n                        );\n                    }\n                }\n            </BookstoreServiceConsumer>\n        );\n    };\n};\n\nexport default withBookstoreService;\n","const compose = (...funcs) => (comp) => {\n    return funcs.reduceRight(\n        (wrapper,f) => f(wrapper), comp);\n};\n\nexport default compose;\n","import Spinner from './spinner';\n\nexport default Spinner;\n","import React from 'react';\n\nconst Spinner = () => {\n    return (\n        <div>Loading ...</div>\n    );\n};\n\nexport default Spinner;\n","import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;\n","import React from 'react';\n\nconst ErrorIndicator = () => {\n    return (\n        <div>ErrorIndicator</div>\n    );\n};\n\nexport default ErrorIndicator;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport BookListItem from '../book-list-item';\nimport { fetchBooks, bookAddedToCart } from '../../actions';\nimport { withBookstoreService } from '../hoc';\nimport { compose } from '../../utils';\nimport Spinner from '../spinner';\nimport ErrorIndicator from '../error-indicator';\n\nimport './book-list.scss';\n\nconst BookList = ({ books, onAddedToCart }) => {\n    return (\n        <div className=\"book-list\">\n            {\n                books.map((book) => {\n                    return (\n                        <BookListItem\n                            book={book}\n                            key={book.id}\n                            onAddedToCart={() => onAddedToCart(book.id)} />\n                    );\n                })\n            }\n        </div>\n    );\n}\n\nclass BookListContainer extends Component {\n    componentDidMount() {\n        this.props.fetchBooks();\n    }\n\n    render() {\n        const { books, loading, error, onAddedToCart } = this.props;\n\n        if (loading) {\n            return <Spinner />\n        };\n\n        if (error) {\n            return <ErrorIndicator />\n        };\n\n        return <BookList books={books} onAddedToCart={onAddedToCart} />\n\n    }\n};\n\nconst mapStateToProps = ({ bookList: { books, loading, error } }) => {\n    return { books, loading, error };\n}\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\n    return {\n        fetchBooks: fetchBooks(bookstoreService, dispatch),\n        onAddedToCart: (id) => dispatch(bookAddedToCart(id))\n    }\n}\n\nexport default compose(\n    withBookstoreService(),\n    connect(mapStateToProps, mapDispatchToProps)\n)(BookListContainer);\n","import BookList from './book-list';\n\nexport default BookList;\n","import React from 'react';\nimport './shopping-cart-table.scss';\nimport { connect } from 'react-redux';\nimport {\n    bookRemovedFromCart,\n    allBooksRemovedFromCart,\n    bookAddedToCart\n} from '../../actions';\n\nconst ShoppingCartTable = ({ items, total, onIncrease, onDecrease, onDelete }) => {\n    const renderRow = (item, idx) => {\n        const { id, title, count, total } = item;\n        return (\n            <tr key={id}>\n                <td>{idx + 1}</td>\n                <td>{title}</td>\n                <td>{count}</td>\n                <td>${total}</td>\n                <td>\n                    <button\n                        onClick={() => onDecrease(id)}\n                        className=\"btn btn-outline-warning shopping-cart-table__button\">\n                        <i className=\"fa fa-minus-circle\" />\n                    </button>\n\n                    <button\n                        onClick={() => onIncrease(id)}\n                        className=\"btn btn-outline-success shopping-cart-table__button\">\n                        <i className=\"fa fa-plus-circle\" />\n                    </button>\n                    <button\n                        onClick={() => onDelete(id)}\n                        className=\"btn btn-outline-danger shopping-cart-table__button\">\n                        <i className=\"fa fa-trash-o\" />\n                    </button>\n                </td>\n            </tr>\n        );\n    }\n\n    return (\n        <div className=\"shopping-cart-table\">\n            <h2>Your order</h2>\n            <table className=\"table shopping-cart-table__table\">\n                <thead>\n                    <tr>\n                        <th>#</th>\n                        <th>Item</th>\n                        <th>Count</th>\n                        <th>Price</th>\n                        <th>Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {items.map(renderRow)}\n                    <tr>\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                        <td className=\"shopping-cart-table__total\">\n                            Total: ${total}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, orederTotal } }) => {\n    return {\n        items: cartItems,\n        total: orederTotal\n    };\n};\n\nconst mapDispatchToProps = {\n    onIncrease: bookAddedToCart,\n    onDecrease: bookRemovedFromCart,\n    onDelete: allBooksRemovedFromCart\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);\n","import ShoppingCartTable from './shopping-cart-table';\n\nexport default ShoppingCartTable;\n","import React from 'react';\nimport BookList from '../book-list';\nimport ShoppingCartTable from '../shopping-cart-table';\n\n\nconst HomePage = () => {\n    return (\n        <div>\n            <BookList />\n            <ShoppingCartTable/>\n        </div>\n    );\n};\n\nexport default HomePage;\n","import React from 'react';\n\nconst CartPage = () => {\n    return(\n        <div>Cart Page!</div>\n    );\n};\n\nexport default CartPage;\n","import ShopHeader from './shop-header';\n\nexport default ShopHeader;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport './shop-header.scss';\n\nconst ShopHeader = ({ numItems, total }) => {\n    return (\n        <div className=\"shop-header\">\n            <Link to=\"/3-React-ReStore/\" className=\"shop-header__logo\">ReStore</Link>\n            <Link to=\"/3-React-ReStore/cart\" className=\"shop-header__cart\">\n                <i className=\"shop-header__icon fa fa-shopping-cart\" />\n                <span className=\"shop-header__info\">{numItems} items (${total})</span>\n            </Link>\n        </div>\n    );\n};\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, orederTotal } }) => {\n    return {\n        numItems: cartItems.length,\n        total: orederTotal\n    };\n};\n\nexport default connect(mapStateToProps)(ShopHeader);\n","import App from './app';\n\nexport default App;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { HomePage, CartPage } from '../pages';\nimport ShopHeader from '../shop-header';\n\nconst App = () => {\n    return (\n        <div className=\"container\">\n            <ShopHeader />\n            <Switch>\n                <Route path=\"/3-React-ReStore/\" component={HomePage} exact />\n                <Route path=\"/3-React-ReStore/cart\" component={CartPage} />\n            </Switch>\n        </div>\n    );\n};\n\nexport default App;\n","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;\n","import React, { Component } from 'react';\nimport ErrorIndicator from '../error-indicator';\n\nexport default class ErrorBoundry extends Component {\n    state = {\n        hasError: false\n    };\n\n    componentDidCatch() {\n        this.setState({ hasError: true });\n    };\n\n    render() {\n        if (this.state.hasError) {\n            return <ErrorIndicator />;\n        };\n\n        return this.props.children;\n    };\n};\n","\nexport default class BookstoreService {\n    data = [\n        {\n            id: 1,\n            title: 'Production-Ready Microservices',\n            author: 'Susan J. Fowler',\n            price: 32,\n            coverImage: 'http://t0.gstatic.com/images?q=tbn:ANd9GcRNAVIuV8rKVmFpYM1RNWR64HJXV6SFh_BUDQh7KvP_fBQjPu43'\n        },\n        {\n            id: 2,\n            title: 'Realise It!',\n            author: 'Michael T. Nygard',\n            price: 45,\n            coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41nMZPJdhsL._SX415_BO1,204,203,200_.jpg'\n        }\n    ];\n\n    getBooks() {\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                resolve(this.data);\n            }, 700)\n        });\n    };\n};\n","const updateBookList = (state, action) => {\n    if (state === undefined) {\n        return {\n            books: [],\n            loading: true,\n            error: null,\n        }\n    }\n\n    switch (action.type) {\n        case 'FETCH_BOOKS_REQUEST':\n            return {\n                books: action.payload,\n                loading: false,\n                error: null\n            };\n\n        case 'FETCH_BOOKS_SUCCESS':\n            return {\n                books: [],\n                loading: true,\n                error: null\n            };\n\n        case 'FETCH_BOOKS_FAILURE':\n            return {\n                books: [],\n                loading: false,\n                error: action.payload\n            };\n\n        default:\n            return state.bookList;\n    }\n}\n\nexport default updateBookList;\n","const updateCartItems = (cartItems, item, index) => {\n    if (item.count === 0) {\n        return [\n            ...cartItems.slice(0, index),\n            ...cartItems.slice(index + 1)\n        ]\n    }\n\n    if (index === -1) {\n        return [\n            ...cartItems,\n            item\n        ]\n    };\n\n    return [\n        ...cartItems.slice(0, index),\n        item,\n        ...cartItems.slice(index + 1)\n    ]\n};\n\nconst updateCartItem = (book, item = {}, quantity) => {\n    const {\n        id = book.id,\n        title = book.title,\n        count = 0,\n        total = 0\n    } = item;\n\n    return {\n        id,\n        title,\n        count: count + quantity,\n        total: total + quantity * book.price\n    }\n};\n\nconst updateOrderTotal = (cartItems) => {\n    return cartItems.reduce((sum, {total}) => {\n        return sum + total;\n    }, 0);\n}\n\nconst updateOrder = (state, bookId, quantity) => {\n    const { bookList: { books }, shoppingCart: { cartItems } } = state;\n    const book = books.find(({ id }) => id === bookId);\n    const itemIndex = cartItems.findIndex(({ id }) => id === bookId);\n    const item = cartItems[itemIndex];\n    const newItem = updateCartItem(book, item, quantity);\n    const newCartItems = updateCartItems(cartItems, newItem, itemIndex);\n    const newOrderTotal = updateOrderTotal(newCartItems);\n    return {\n        cartItems: newCartItems,\n        orederTotal: newOrderTotal,\n    };\n};\n\nconst updateShoppingCart = (state, action) => {\n    if (state === undefined) {\n        return {\n            cartItems: [],\n            orederTotal: 0\n        }\n    };\n\n    switch (action.type) {\n        case 'BOOK_ADDED_TO_CART':\n            return updateOrder(state, action.payload, 1);\n\n        case 'BOOK_REMOVED_FROM_CART':\n            return updateOrder(state, action.payload, -1);\n\n        case 'ALL_BOOKS_REMOVED_FROM_CART':\n            const item = state.shoppingCart.cartItems.find(({ id }) => id === action.payload);\n            return updateOrder(state, action.payload, -item.count);\n\n        default:\n            return state.shoppingCart;\n    }\n};\n\nexport default updateShoppingCart;\n","import updateBookList from './book-list';\nimport updateShoppingCart from './shopping-cart';\n\nconst reducer = (state, action) => {\n    return {\n        bookList: updateBookList(state, action),\n        shoppingCart: updateShoppingCart(state, action)\n    }\n};\n\nexport default reducer;\n","import { createStore } from 'redux';\n\nimport reducer from './reducers';\n\nconst store = createStore(reducer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nimport BookstoreService from './services/bookstore-service';\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\n\nimport store from './store';\n\nconst bookstoreService = new BookstoreService();\n\nReactDOM.render(\n    <Provider store={store}>\n        <ErrorBoundry>\n            <BookstoreServiceProvider value={bookstoreService}>\n                <Router>\n                    <App />\n                </Router>\n            </BookstoreServiceProvider>\n        </ErrorBoundry>\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}